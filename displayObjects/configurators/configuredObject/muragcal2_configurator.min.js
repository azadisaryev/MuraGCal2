function updateAvailableObject(){var a={};jQuery("#availableObjectParams").find(".objectParam").each(function(){var b=jQuery(this);if(b.attr("type")!="radio"&&b.attr("type")!="checkbox"||(b.attr("type")=="radio"||b.attr("type")=="checkbox")&&b.is(":checked")){if(typeof a[b.attr("name")]=="undefined"){a[b.attr("name")]=b.val()}else{if(!jQuery.isArray(a[b.attr("name")])){var c=[];c[0]=a[b.attr("name")];a[b.attr("name")]=c}a[b.attr("name")].push(b.val())}}});availableObject=jQuery.extend({},availableObjectTemplate);availableObject.params=a}function initMuraGCalConfigurator(a){initConfigurator(a,{url:"../plugins/MuraGCal2/displayObjects/configurators/configuredObject/muragcal2_configurator.cfm",pars:"",title:"MuraGCal2 Configurator",init:function(){jQuery('<link rel="stylesheet" type="text/css" />').attr({href:"../plugins/MuraGCal2/assets/css/muragcal2.css?v=20120405"}).appendTo(jQuery("head"));jQuery.getScript("../plugins/MuraGCal2/assets/js/jquery.colorPicker.min.js",function(a,b){jQuery(".muragcal2-color-picker").colorPicker()});jQuery("#mgc2calendars").on("click","span.removeGCalID",function(a){var b=jQuery(this),c=false;if(jQuery("input",b.parent().next()).val==""){c=true}else{if(confirm("Are you sure you want to remove this Calendar ID?"))c=true}if(c){b.parent().parent().remove();muraGCal2Counter--}});jQuery("#mgc2BtnAddCalendar").click(function(){var a=jQuery(this),b=true;if(muraGCal2Counter>=3)b=confirm("Are you sure you want to add another calendar?\n\nToo many calendars aggregated into one may become difficult to read.");if(b){muraGCal2Counter++;jQuery('<dl class="singleColumn mgc2_calendar"><dt>Calendar '+muraGCal2Counter+'<span class="removeGCalID"></span></dt><dd><legend>Google Calendar ID: <input name="GCalID" class="objectParam" value="" style="width:250px;"></legend></dd><dd class="colorpicker"><legend>Calendar Events Color: <input name="GCalColor" class="objectParam muragcal2-color-picker" value="" size="7"></legend></dd></dl>').insertBefore(a).find(".muragcal2-color-picker").colorPicker()}})},destroy:function(){},validate:function(){var a=jQuery("#availableObjectParams"),b=true;jQuery(".mgc2error").removeClass("mgc2error").find("div").remove();jQuery("input[name='GCalID']",a).each(function(){var a=jQuery(this),c=jQuery("input[name='GCalColor']",a.parents("dd").next());if(a.val().replace(/\s/g,"")==""){a.parents("dd").append('<div class="mgc2error">Calendar ID is required</div>').end().parent().addClass("mgc2error");b=false}if(c.val()==""){c.parents("dd").append('<div class="mgc2error">Events Color is required</div>').end().parent().addClass("mgc2error");b=false}else{var d=/^(#([0-9a-fA-F]{3}){1,2}\|?)+$/;if(!d.test(c.val())){jQuery('<div class="mgc2error">Events Color must be a valid Hex code in #xxx or #xxxxxx format</div>').appendTo(c.parents("dd"));c.parent().addClass("mgc2error");b=false}}});if(jQuery("#GCalWidth").val().replace(/\s/g,"")==""||jQuery("#GCalHeight").val().replace(/\s/g,"")==""){jQuery('<div class="mgc2error">Calendar Width and Height are required</div>').appendTo(jQuery("#GCalWidth").parents("dd")).parents("dd").find("label").addClass("mgc2error");b=false}else if(isNaN(parseInt(jQuery("#GCalWidth").val()))||isNaN(parseInt(jQuery("#GCalHeight").val()))||parseInt(jQuery("#GCalWidth").val())<=0||parseInt(jQuery("#GCalHeight").val())<=0){jQuery('<div class="mgc2error">Calendar Width and Height must be positive integer</div>').appendTo(jQuery("#GCalWidth").parents("dd")).parents("dd").find("label").addClass("mgc2error");b=false}return b}});return true}